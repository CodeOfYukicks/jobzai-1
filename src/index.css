@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    scroll-behavior: smooth;
    overflow-x: hidden;
  }

  body {
    @apply antialiased;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Space Grotesk', system-ui, sans-serif;
  }

  /* Isolate CV preview from global font styles */
  #cv-preview-content h1,
  #cv-preview-content h2,
  #cv-preview-content h3,
  #cv-preview-content h4,
  #cv-preview-content h5,
  #cv-preview-content h6 {
    font-family: inherit;
  }

  #cv-preview-content {
    font-family: inherit;
  }

  :root {
    --background: 30 9% 96%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --color-1: 0deg 100% 50%;
    /* Rouge */
    --color-2: 60deg 100% 50%;
    /* Jaune */
    --color-3: 120deg 100% 50%;
    /* Vert */
    --color-4: 240deg 100% 50%;
    /* Bleu */
    --color-5: 300deg 100% 50%;
    /* Violet */
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

.hero-gradient {
  @apply bg-[#635BFF] dark:bg-[#2A2831] transition-colors duration-200;
}

@layer components {
  .btn-primary {
    @apply bg-white text-[#635BFF] font-bold transition-all duration-300 rounded-lg px-8 py-4 text-lg shadow-lg hover:transform hover:scale-105 hover:shadow-xl hover:-translate-y-0.5 active:scale-95;
  }

  .btn-black {
    @apply bg-white text-[#635BFF] font-bold transition-all duration-300 rounded-lg px-8 py-4 text-lg shadow-lg hover:transform hover:scale-105 hover:shadow-xl hover:-translate-y-0.5 active:scale-95;
  }

  .btn-nav {
    @apply transition-all duration-300 hover:transform hover:scale-105 hover:text-white;
  }

  /* Premium Glass Effects */
  .glass-card {
    @apply backdrop-blur-xl bg-white/60 dark:bg-gray-900/60 border border-white/20 dark:border-gray-700/30 shadow-glass;
  }

  .glass-panel {
    @apply backdrop-blur-lg bg-white/40 dark:bg-gray-900/40 border border-white/10 dark:border-gray-700/20;
  }

  .glass-input {
    @apply backdrop-blur-sm bg-white/80 dark:bg-gray-800/80 border border-gray-200/50 dark:border-gray-700/50 focus:border-[#635BFF]/50 focus:ring-2 focus:ring-[#635BFF]/20 focus:bg-white/90 dark:focus:bg-gray-800/90 transition-all duration-300;
  }

  /* Premium Button Styles */
  .btn-premium {
    @apply relative px-6 py-3 rounded-xl font-semibold text-sm bg-gradient-to-r from-[#635BFF] to-[#7c75ff] text-white shadow-lg shadow-[#635BFF]/30 hover:shadow-xl hover:shadow-[#635BFF]/40 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300;
  }

  .btn-glass {
    @apply backdrop-blur-lg bg-white/10 dark:bg-white/5 border border-white/20 dark:border-white/10 hover:bg-white/20 dark:hover:bg-white/10 hover:border-white/30 dark:hover:border-white/20 transition-all duration-300;
  }

  /* Gradient Text */
  .gradient-text {
    @apply bg-gradient-to-r from-[#635BFF] to-[#7c75ff] bg-clip-text text-transparent;
  }

  /* Animated Gradient Background */
  .animated-gradient {
    background: linear-gradient(-45deg,
        rgba(168, 85, 247, 0.1),
        rgba(139, 92, 246, 0.1),
        rgba(124, 58, 237, 0.1),
        rgba(99, 102, 241, 0.1));
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
  }

  /* Premium Card Hover Effect */
  .card-premium {
    @apply transition-all duration-300 ease-out hover:shadow-premium hover:-translate-y-1 hover:scale-[1.01];
  }
}

/* Animation classes */
.fade-in-up {
  animation: fadeInUp 0.8s ease-out forwards;
}

.fade-in-right {
  animation: fadeInRight 0.8s ease-out forwards;
}

.fade-in-left {
  animation: fadeInLeft 0.8s ease-out forwards;
}

/* Grid Background Animation */
.animated-grid {
  background-size: 50px 50px;
  background-image:
    linear-gradient(to right, rgba(45, 41, 51, 0.2) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(45, 41, 51, 0.2) 1px, transparent 1px);
  animation: gridMove 20s linear infinite;
}

.animated-grid::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: radial-gradient(circle at center, transparent 0%, #635BFF 70%);
  pointer-events: none;
}

@keyframes gridMove {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 50px 50px;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-white dark:bg-[#2A2831] text-foreground m-0 p-0 transition-colors duration-200;
  }
}

/* Styles des toasts */
[data-sonner-toaster][data-position='top-right'] {
  top: 1.5rem;
  right: 1.5rem;
}

.toast-custom {
  @apply shadow-lg shadow-black/5;
}

/* Animation des toasts */
[data-sonner-toast] {
  @apply transform transition-all duration-200 ease-out;
}

[data-sonner-toast][data-visible='false'] {
  @apply translate-y-2 opacity-0;
}

[data-sonner-toast][data-visible='true'] {
  @apply translate-y-0 opacity-100;
}

/* Style pour les boutons d'action */
[data-sonner-toast] [data-button] {
  @apply bg-gray-50 hover:bg-gray-100 text-gray-800 px-3 py-1.5 rounded-lg transition-colors duration-200 text-sm font-medium ml-2;
}

/* Style pour l'icÃ´ne de fermeture */
[data-sonner-toast] [data-close-button] {
  @apply opacity-50 hover:opacity-100 transition-opacity duration-200;
}

/* Espacement entre les toasts */
[data-sonner-toast]+[data-sonner-toast] {
  margin-top: 0.5rem;
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
  /* Chrome, Safari and Opera */
}

/* Premium Background Effects */
.bg-mesh-gradient {
  background:
    radial-gradient(at 0% 0%, rgba(168, 85, 247, 0.15) 0px, transparent 50%),
    radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.12) 0px, transparent 50%),
    radial-gradient(at 100% 100%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
    radial-gradient(at 0% 100%, rgba(124, 58, 237, 0.12) 0px, transparent 50%);
}

.bg-mesh-gradient-animated {
  background:
    radial-gradient(at 0% 0%, rgba(168, 85, 247, 0.15) 0px, transparent 50%),
    radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.12) 0px, transparent 50%),
    radial-gradient(at 100% 100%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
    radial-gradient(at 0% 100%, rgba(124, 58, 237, 0.12) 0px, transparent 50%);
  animation: gradient-shift 20s ease infinite;
}

/* Grain Texture Overlay */
.texture-grain::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  pointer-events: none;
  opacity: 0.4;
}

/* Shimmer Effect for Badges */
.shimmer-effect {
  position: relative;
  overflow: hidden;
}

.shimmer-effect::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent);
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }

  100% {
    left: 100%;
  }
}

/* Slide up animation for floating elements */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

/* Animation Delay Utilities */
.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* ========================================
   MOBILE RESPONSIVE UTILITIES
   ======================================== */

/* Safe area padding for notches/home indicators (iOS) */
@layer utilities {
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  .safe-x {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .safe-y {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Full viewport height accounting for mobile browser chrome */
  .min-h-dvh {
    min-height: 100dvh;
  }

  .h-dvh {
    height: 100dvh;
  }

  /* Fallback for browsers that don't support dvh */
  @supports not (min-height: 100dvh) {
    .min-h-dvh {
      min-height: 100vh;
    }

    .h-dvh {
      height: 100vh;
    }
  }

  /* Prevent flex/grid children from overflowing */
  .min-w-0 {
    min-width: 0;
  }

  /* Clip overflow (better than hidden for some cases) */
  .overflow-x-clip {
    overflow-x: clip;
  }

  /* Mobile-friendly bottom padding for bottom nav */
  .pb-mobile-nav {
    padding-bottom: calc(64px + env(safe-area-inset-bottom));
  }

  /* Touch-friendly minimum sizes */
  .min-touch {
    min-width: 44px;
    min-height: 44px;
  }
}

/* Mobile touch interaction improvements */
@layer base {

  /* Remove tap highlight on iOS */
  button,
  a,
  [role="button"],
  input,
  select,
  textarea,
  label {
    -webkit-tap-highlight-color: transparent;
  }

  /* Prevent text selection on interactive elements */
  button,
  [role="button"] {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Smooth scrolling on touch devices */
  .touch-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Prevent iOS input zoom (font-size must be >= 16px) */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  input[type="number"],
  textarea,
  select {
    font-size: 16px;
  }

  @screen md {

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="search"],
    input[type="tel"],
    input[type="url"],
    input[type="number"],
    textarea,
    select {
      font-size: inherit;
    }
  }
}